{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>"},{"location":"#grafana-network-weathermap-plugin","title":"Grafana Network Weathermap Plugin","text":""},{"location":"#installation","title":"Installation","text":""},{"location":"#installing-on-a-local-grafana","title":"Installing on a local Grafana:","text":"<p>For local instances, plugins are installed and updated via a simple CLI command. Plugins are not updated automatically, however you will be notified when updates are available right within your Grafana.</p>"},{"location":"#1-install-the-panel","title":"1: Install the Panel","text":"<p>Use the grafana-cli tool to install Network Weathermap from the commandline:</p> <p><code>grafana-cli plugins install knightss27-weathermap-panel</code></p> <p>The plugin will be installed into your grafana plugins directory; the default is /var/lib/grafana/plugins. More information on the cli tool.</p> <p>Alternatively, you can manually download the .zip file from the latest release and unpack it into your grafana plugins directory.</p>"},{"location":"#2-add-the-panel-to-a-dashboard","title":"2: Add the Panel to a Dashboard","text":"<p>Installed panels are available immediately in the Dashboards section in your Grafana main menu, and can be added like any other core panel in Grafana.</p> <p>To see a list of installed panels, click the Plugins item in the main menu. Both core panels and installed panels will appear.</p>"},{"location":"#testing","title":"Testing","text":"<p>For testing with Docker, follow the instructions on the testing README. This will provide you with an instance to play around with.</p>"},{"location":"#creating-a-new-weathermap","title":"Creating a New Weathermap","text":"<ol> <li>In Grafana, create a new <code>Empty Panel</code>.</li> <li>Change the visualisation in the top right corner to <code>Network Weathermap</code>.</li> <li>You now have a brand new network weathermap panel! \ud83c\udf89</li> <li>Learn about weathermap basics below!</li> </ol>"},{"location":"#on-startup","title":"On Startup","text":"<p>By default, the panel will start completely blank, looking something like this:</p> <p></p>"},{"location":"#adding-nodes","title":"Adding Nodes","text":"<ul> <li>Make sure you have selected <code>Edit</code> on the panel in Grafana.</li> <li> <p>On the right hand side, find the <code>Nodes</code> editor.</p> <p></p> </li> <li> <p>Click <code>Add Node</code> to create a new node.</p> </li> <li>Nodes have three basic fields:<ul> <li>X position (<code>number</code>): Node's X position.</li> <li>Y position (<code>number</code>): Node's Y position.</li> <li>Label (<code>string</code>): The text visible on the node.</li> </ul> </li> <li>You can then move the node by dragging it with your mouse.</li> </ul>"},{"location":"#adding-links","title":"Adding Links","text":"<ul> <li>Ensure you have at least two nodes.</li> <li> <p>On the right hand side, find the <code>Links</code> editor.</p> <p></p> </li> <li> <p>Click <code>Add Link</code> to create a new link.</p> </li> <li>Links are split into two sides, <code>A</code> and <code>B</code>.</li> <li>Each side has four central fields:<ul> <li>Side (<code>Node</code>): The node this side of the link connects to.</li> <li>Query (<code>Query</code>): A query representing the current side's throughput in the specified units.</li> <li>Bandwidth # (<code>number</code>): A number representing the bandwidth of this side in specified units.</li> <li>Bandwidth Query (<code>Query</code>): A query representing the bandwidth of this side in the specified units.</li> <li>Units (<code>unit</code>): The units the link expects to recieve its data as. This is used for both the main query and bandwidth. Defaults to <code>bits/sec (SI)</code> (<code>bps</code>).</li> </ul> </li> <li>Select <code>A</code> and <code>B</code> side nodes from their respective dropdowns.</li> </ul>"},{"location":"#adding-data","title":"Adding Data","text":"<ul> <li>The weathermap expects a data frame with two fields, a time and a number.</li> <li>You probably want this number in <code>bits/sec</code>, unless your links are expecting something else (each link has customizable units, and default units are customizable in the global settings for the panel).</li> <li>The weathermap will always choose the most recent data point available. If you want your links graphs to have data, make sure your queries are ranges and not \"Instant\" queries, as this will mean there is no data to show on each graph.</li> <li>Once you have added a query in the panel editor, you can can see all queries and select one from the dropdown in the Query fields of the links.</li> <li>See the FAQ or Github issues if you are having issues adding data (especially Zabbix datasource users).</li> </ul> <p>PLEASE NOTE: Queries with the exact same labels will be considered as such. If you have multiple queries and are unable to select the one that you want, double check to make sure it is labeled uniquely.</p>"},{"location":"#setting-thresholds","title":"Setting Thresholds","text":"<ul> <li>The weathermap color scale allows you to color links based on their bandwidth usage.</li> <li>On the right hand side, find the <code>Color Scale</code> editor.   </li> <li>Click <code>Add Scale Value</code> to create a new threshold.</li> <li>Each threshold has two basic fields:<ul> <li>% (<code>number</code>): The percent of bandwidth usage at which to start this threshold.</li> <li>Color (<code>picker</code>): The color of this threshold, can be any valid CSS <code>color</code> chosen or input with the picker.<ul> <li><code>green</code> | <code>#00FF00</code> | <code>rgb(0, 255, 0)</code></li> </ul> </li> </ul> </li> <li>By default, the scale will fill from the highest threshold to 100%. You can see the scale in the top left of the panel. When updating numerical values, click off of the input when you're finished to allow the scale to update.</li> </ul>"},{"location":"#interacting-with-the-weathermap","title":"Interacting with the Weathermap","text":"<ul> <li>In editing mode:<ul> <li><code>Click + Drag</code> nodes to move them.</li> <li><code>Shift + Drag</code> or hold and drag <code>Middle Mouse</code> to move the map.</li> <li><code>Scroll</code> to zoom.</li> <li><code>Ctrl + Click</code> to select/deselect multiple nodes before dragging.</li> <li><code>Double Click</code> to deselect all nodes.</li> </ul> </li> <li>Outside of editing mode (including read-only users):<ul> <li><code>Shift + Scroll</code> to zoom.</li> <li><code>Shift + Drag</code> to move the map.</li> </ul> </li> <li>Hover over links to see tooltip information.<ul> <li>Hold <code>Shift</code> while hovering to free up the mouse.</li> <li>Hover over the same link or another to unfreeze the tooltip.</li> </ul> </li> </ul>"},{"location":"customization/","title":"Customization","text":"<p>Once you've gotten a basic layout done, you may be wondering how to customize the way things look, to suit your personal feel.</p>"},{"location":"customization/#common-terminology","title":"Common Terminology","text":"<p>The diagram below illustrates some of the basic terminology this plugin uses. </p>"},{"location":"customization/#panel-settings","title":"Panel Settings","text":"<p>There are three main panel settings:</p> <ul> <li>Background Color (<code>color</code>): Use the picker to set whatever background you want (including transparent).<ul> <li>Newly added is the possibility for a background image, simply click the plus and enter a URL.</li> </ul> </li> <li>Viewbox Width (<code>number</code>): The width in pixels of the SVG viewbox.</li> <li>Viewbox Height (<code>number</code>): The height in pixels of the SVG viewbox.</li> </ul> <p>By default, the panel's SVG will attempt to take up as much space both vertically and horizontally within the Grafana plugin panel as possible while still maintaining the viewbox aspect ratio.</p> <p>You can also pan and zoom on the panel. Zooming works with just your mousewheel, and panning can be triggered by dragging the panels view using middle click or holding control while using left click.</p>"},{"location":"customization/#arranging-links","title":"Arranging Links","text":"<p>One of the most important parts of creating a weathermap is arranging the links between nodes. Depending on the orientation of these links, some specific settings may work best.</p> <p>PLEASE NOTE: Links are drawn in the order in which they are added to a node, meaning some may overlap if you aren't careful when adding them. While a future version may make some easier way to deal with this, for now you can just remove the relevant links and re-add them in the necessary order.</p>"},{"location":"customization/#link-options","title":"Link Options","text":"<ul> <li>Anchors:<ul> <li>Each node has 5 anchors that any link side can connect to:<ul> <li>(<code>Center | Top | Bottom | Left | Right</code>)</li> </ul> </li> <li>This makes it easy to try and avoid having too many overlapping links. By default, links are auto-spaced to be as far apart as possible when parallel to each other vertically (attached to a <code>Bottom</code> of one link, and <code>Top</code> of another). When parallel horiztonally (attached to a <code>Right</code> of one link, and <code>Left</code> of another), nodes will automatically grow to accomodate them.</li> </ul> </li> <li>Label Offset # (<code>number</code>): A number between 0 and 100 representing the location of the link's label as a percentage of that link's length. (Play around with it to see how it works! This is especially useful if you have close / overlapping links which need their labels to not overlap.)</li> <li>See the link reference for other options.</li> </ul>"},{"location":"customization/#global-link-options","title":"Global Link Options","text":"<p>These options are set on all links.</p> <ul> <li>Base Color (<code>picker</code>): The no-data color for links.</li> <li>Spacing Horizontal (<code>number</code>): A number in pixels, representing the spacing used between links when a node has <code>Constant Spacing</code> set to true.</li> <li>Spacing Vertical (<code>number</code>): A number in pixels, representing the spacing used vertically between links, when a node has <code>Collapse Vertical Links</code> set to false (the default).</li> </ul> <p>These options are for link labels (their current throughput):</p> <ul> <li>Background (<code>color</code>): Label background color.</li> <li>Border (<code>color</code>): Label border color.</li> <li>Font (<code>color</code>): Label font color.</li> </ul>"},{"location":"customization/#node-options","title":"Node Options","text":""},{"location":"customization/#icon","title":"Icon","text":"<ul> <li>Select one of the icons from the existing library to attach it to a node.</li> <li>Width (<code>number</code>): Icon bounding box width.</li> <li>Height (<code>number</code>): Icon bounding box height.</li> <li>Padding, Horizontal &amp; Vertical ( <code>number</code>, <code>number</code>): Padding between the icon's bounding box and node edges or text.</li> <li>Draw Inside (<code>boolean</code>): When true, will put the icon within the node's border (you may need to adjust the padding a little).   </li> </ul>"},{"location":"customization/#padding","title":"Padding","text":"<ul> <li>Padding, Horizontal &amp; Vertical (<code>number</code>, <code>number</code>): represents the spacing between the text and the border.</li> </ul>"},{"location":"customization/#advanced","title":"Advanced","text":"<ul> <li>In the <code>Advanced</code> section of the <code>Nodes</code> editor, there are three toggles:</li> <li>Constant Spacing: Should links be a certain <code>Link Spacing Horizontal (px)</code> apart?<ul> <li>This setting is useful if you have two nodes with signficant differences in text length, as by default the plugin will space links evenly across a <code>Top | Bottom</code> anchor. Switching to a constant spacing forces these links to be the same pixel distance apart.</li> </ul> </li> <li>Compact Vertical Links: Should nodes ignore the number of links attached to their sides?<ul> <li>This setting lets you decide whether an individual node will grow when there is more than one link attached to either <code>Left | Right</code> anchor. When on, a node will always only be the size of its text and padding. When off, a node will grow so that links going left to right do not overlap (these links will be <code>Link Spacing Vertical (px)</code> apart).</li> </ul> </li> <li>Use As Connection (BETA): Should this node be used to extend another link?<ul> <li>Link \"turns/connections\" are a beta feature added fairly recently. They work by turning nodes into invisible vertices through which links can be extended, and are especially useful if you want your links to all follow a specific path (i.e. to represent some physical organization or just for clarity). </li> <li>Link connections work like this:<ol> <li>Have two nodes you want to connect with a link.     </li> <li>Add however many nodes you need to represent all the vertices of your path, and toggle the \"Use As Connection\" button for each. This will now render the node as transparent, with a \"C?\" label letting you know it is a connection. It is recommended to simply delete connection nodes after converting them, instead of un-toggling this option if you want to use them for something else. </li> <li>In order, from the A-side to the Z-side, connect the first node to the last through these connections by creating new links. NOTE: Each connection node will only accept 2 links, one in and one out (i.e. you can not use a connection for multiple different links). This must be done from A-Z sides as each connection link will inherit the data from the A-side.     </li> <li>When you have finished adding links from A-Z sides, you should see the A-side is extended and the Z-side remains connected to the final node in your path. Notice that when selecting connection nodes as sides for a link, query options dissappear (as they will be inherited from the A-side).     </li> <li>When you exit edit mode, connection nodes will dissappear and your link will be drawn following their path! You can set the queries for each side of the extended link in the options for the links that touch either of your nodes (i.e. the first and last links of the connected path).     </li> </ol> </li> </ul> </li> </ul>"},{"location":"customization/#colors","title":"Colors","text":"<ul> <li>Background (<code>picker</code>): Node background color.</li> <li>Border (<code>picker</code>): Node border color.</li> <li>Font (<code>picker</code>): Node font color.</li> </ul> <p>See node reference for more options.</p>"},{"location":"customization/#font-options","title":"Font Options","text":"<ul> <li>Node Font Size (<code>number</code>): All nodes' font size.</li> <li>Link Font Size (<code>number</code>): All links' label font size.</li> </ul>"},{"location":"faq/","title":"FAQ","text":"<ul> <li> <p>Q: I am using the Zabbix datasource and the only option in the query selection dropdown is \"wide\"?</p> <ul> <li>In the Zabbix datasource settings, please try turning off the \"data alignment\" property, you may also get this to work for a specific query by disabling data alignment under the query's \"Options\" section. Taken from Issue #28.</li> </ul> </li> <li> <p>Q: I am using the Zabbix datasource and can only select one of my queries (but it is labeled properly)?</p> <ul> <li>Try selecting multiple Zabbix \"Items\" through one Grafana query by using Regex in the \"Item\" area of the query editor. Taken from Issue #38.</li> </ul> </li> <li> <p>Q: I am unable to select one of my data queries, even though it shows up in the query selection dropdown. What's happening?</p> <ul> <li>See the note on: Adding Data.</li> </ul> </li> <li> <p>Q: Can I upload an image as a background? Will this be added as a feature?</p> <ul> <li>Yes you can now! For node icons as well. You simple have to host the image somewhere and can insert the URL into the image box under the panel customization.</li> </ul> </li> <li> <p>Q: Plugin is throwing <code>toReturn.source is undefined</code>?</p> <ul> <li>Just reload or force reload the page. I have yet to properly track down this bug, but rest assured it seems to only occur directly after saving and applying your changes and can be easily fixed.</li> </ul> </li> </ul> <p>Other problems and you're somehow on this page before Github? Leave a new issue!</p>"},{"location":"reference/","title":"Reference","text":"<p>This page documents all editing fields with their expected inputs and usage. It is not necessarily descriptive about how to use some of these fields.</p>"},{"location":"reference/#node","title":"Node","text":"Field Type Description X <code>number</code> X position Y <code>number</code> Y position Label <code>string</code> Text displayed on the node, when set to an empty string the node's outline is not drawn Dashboard Link <code>string</code> URL which clicking on this node will direct you to Icon: - Icon <code>Icon</code> SVG icon drawn with the node, or a custom image - Width <code>number</code> Bounding width (icon will maintain its original aspect ratio) - Height <code>number</code> Bounding height (icon will maintain its original aspect ratio) - Padding Horizontal <code>number</code> Padding in pixels to the left and right of the icon - Padding Vertical <code>number</code> Padding in pixels above and below the icon - Draw Inside <code>boolean</code> Draw the icon within the outline of the node Padding: - Horizontal <code>number</code> Padding to the left and right of the label - Vertical <code>number</code> Padding above and below the label Status - Query <code>Query</code> Query for the Node's status. 0 or null is DOWN, 1 or above is UP - StatusDown Color <code>picker</code> The color to outline the node with when DOWN Advanced: - Constant Spacing <code>boolean</code> Use global link spacing values for this node - Compact Vertical Links <code>boolean</code> Do not allow the node to grow vertically - Use As Connection <code>boolean</code> Draw this node as a connection for use with two links Colors: - Background Color <code>picker</code> - Border Color <code>picker</code> - Font Color <code>picker</code>"},{"location":"reference/#link","title":"Link","text":"Field Type Description A/Z Side: - Side <code>Node</code> - Query <code>Query</code> Query for link throughput - Bandwidth # <code>number</code> Manual entry for link bandwidth - Bandiwdth Query <code>Query</code> Query for link bandwidth - Label Offset % <code>number</code> Distance along this link at which to draw the throughput information - Anchor Point <code>Anchor</code> - Dashboard Link <code>string</code> URL which clicking on this link will take you to Options: - Units <code>Unit</code> The units for this link's throughput and bandwidth queries, defaults to <code>bits/sec (IEC)</code> - Show Throughput as Percentage <code>boolean</code> Whether or not to show the throughput labels as percentages of bandwidth Stroke and Arrow - Stroke Width <code>number</code> Width of each link - Arrow Width <code>number</code> Distance from left vertex to right vertex of the arrow - Arrow Height <code>number</code> Distance from base to tip vertiex of the arrow - Arrow Offset <code>number</code> Distance between arrow tips in links"},{"location":"reference/#global","title":"Global","text":""},{"location":"reference/#panel-options","title":"Panel Options","text":"Field Type Description Background Color <code>picker</code> Background Image <code>url</code> Viewbox Width (px) <code>number</code> SVG viewbox width, allows for drawing larger maps Viewbox Height (px) <code>number</code> SVG viewbox height, allows for drawing larger maps Zoom Scale <code>number</code> The viewport zoom, negative is zoomed in, positive zoomed out View Offset X <code>number</code> The viewport center X position as an offset from (0,0) View Offset Y <code>number</code> The viewport center Y position as an offset from (0,0) Display Timestamp <code>boolean</code> Turn the timestamp on or off"},{"location":"reference/#link-options","title":"Link Options","text":"Field Type Description Toggle All as Percentage Throughput <code>boolean</code> Shows all link labels as percentages (but does not override individual link settings when turned off) Default Link Units <code>Unit</code> The default units used when no specific unit has yet been set on a link Base Color <code>picker</code> Link color displayed when no data is available Spacing Horizontal <code>number</code> Constant spacing used between links on <code>Top</code> or <code>Bottom</code> anchors Spacing Vertical <code>number</code> Constant spacing used betwene links on <code>Left</code> or <code>Right</code> anchors Label: - Background Color <code>picker</code> - Border Color <code>picker</code> - Font Color <code>picker</code>"},{"location":"reference/#grid-options","title":"Grid Options","text":"Field Type Description Enable Node Grid Snapping <code>boolean</code> Grid Size (px) <code>number</code> Grid Guides <code>boolean</code> Enables visual guides for grid snapping"},{"location":"reference/#font-options","title":"Font Options","text":"Field Type Description Node Font Size <code>number</code> Link Font Size <code>number</code>"},{"location":"reference/#tooltip-options","title":"Tooltip Options","text":"Field Type Description Background Color <code>picker</code> Text Color <code>picker</code> Font Size <code>number</code> Inbound Graph Color <code>picker</code> Outbound Graph Color <code>picker</code>"},{"location":"reference/#scale-options","title":"Scale Options","text":"Field Type Description Title <code>string</code> Width <code>number</code> Width of the scale's color box Height <code>number</code> Height of the scale's color box, equal to a 100% threshold Position X <code>number</code> Position Y <code>number</code> Title Font Size <code>number</code> Threshold Font Size <code>number</code>"}]}