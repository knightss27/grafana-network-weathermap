
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
        <link rel="next" href="customization/">
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.18">
    
    
      
        <title>Grafana Network Weathermap Plugin</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.26e3688c.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#grafana-network-weathermap-plugin" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="Grafana Network Weathermap Plugin" class="md-header__button md-logo" aria-label="Grafana Network Weathermap Plugin" data-md-component="logo">
      
  <img src="assets/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Grafana Network Weathermap Plugin
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Home
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/knightss27/grafana-network-weathermap" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Grafana Network Weathermap Plugin" class="md-nav__button md-logo" aria-label="Grafana Network Weathermap Plugin" data-md-component="logo">
      
  <img src="assets/logo.svg" alt="logo">

    </a>
    Grafana Network Weathermap Plugin
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/knightss27/grafana-network-weathermap" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Home
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        Home
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav" aria-label="Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-on-a-local-grafana" class="md-nav__link">
    Installing on a local Grafana:
  </a>
  
    <nav class="md-nav" aria-label="Installing on a local Grafana:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-install-the-panel" class="md-nav__link">
    1: Install the Panel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-add-the-panel-to-a-dashboard" class="md-nav__link">
    2: Add the Panel to a Dashboard
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing" class="md-nav__link">
    Testing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-new-weathermap" class="md-nav__link">
    Creating a New Weathermap
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#on-startup" class="md-nav__link">
    On Startup
  </a>
  
    <nav class="md-nav" aria-label="On Startup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-nodes" class="md-nav__link">
    Adding Nodes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-links" class="md-nav__link">
    Adding Links
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-data" class="md-nav__link">
    Adding Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-thresholds" class="md-nav__link">
    Setting Thresholds
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interacting-with-the-weathermap" class="md-nav__link">
    Interacting with the Weathermap
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="customization/" class="md-nav__link">
        Customization
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="reference/" class="md-nav__link">
        Reference
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav" aria-label="Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-on-a-local-grafana" class="md-nav__link">
    Installing on a local Grafana:
  </a>
  
    <nav class="md-nav" aria-label="Installing on a local Grafana:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-install-the-panel" class="md-nav__link">
    1: Install the Panel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-add-the-panel-to-a-dashboard" class="md-nav__link">
    2: Add the Panel to a Dashboard
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing" class="md-nav__link">
    Testing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-new-weathermap" class="md-nav__link">
    Creating a New Weathermap
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#on-startup" class="md-nav__link">
    On Startup
  </a>
  
    <nav class="md-nav" aria-label="On Startup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-nodes" class="md-nav__link">
    Adding Nodes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-links" class="md-nav__link">
    Adding Links
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-data" class="md-nav__link">
    Adding Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-thresholds" class="md-nav__link">
    Setting Thresholds
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interacting-with-the-weathermap" class="md-nav__link">
    Interacting with the Weathermap
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<p><center><img src="/assets/logo.svg" alt="Network Weathermap Logo" width="200" style="background: lightgrey; padding: 2rem; border-radius: 1rem; box-shadow: #aaa 0.5rem 0.5rem 1rem;"/></center></p>
<p><center></p>
<h1 id="grafana-network-weathermap-plugin">Grafana Network Weathermap Plugin</h1>
<p></center></p>
<h2 id="installation">Installation</h2>
<h3 id="installing-on-a-local-grafana">Installing on a local Grafana:</h3>
<p>For local instances, plugins are installed and updated via a simple CLI command. Plugins are not updated automatically, however you will be notified when updates are available right within your Grafana.</p>
<h4 id="1-install-the-panel">1: Install the Panel</h4>
<p>Use the grafana-cli tool to install Network Weathermap from the commandline:</p>
<p><code>grafana-cli plugins install knightss27-weathermap-panel</code></p>
<p>The plugin will be installed into your grafana plugins directory; the default is /var/lib/grafana/plugins. <a href="https://grafana.com/docs/grafana/latest/administration/cli/#plugins-commands">More information on the cli tool.</a></p>
<p>Alternatively, you can manually download the .zip file from the <a href="https://github.com/knightss27/grafana-network-weathermap/releases/latest/">latest release</a> and unpack it into your grafana plugins directory.</p>
<h4 id="2-add-the-panel-to-a-dashboard">2: Add the Panel to a Dashboard</h4>
<p>Installed panels are available immediately in the Dashboards section in your Grafana main menu, and can be added like any other core panel in Grafana.</p>
<p>To see a list of installed panels, click the Plugins item in the main menu. Both core panels and installed panels will appear.</p>
<h3 id="testing">Testing</h3>
<p>For testing with Docker, follow the instructions on the <a href="https://github.com/knightss27/grafana-network-weathermap/tree/main/testing#readme">testing README</a>. This will provide you with an instance to play around with.</p>
<hr />
<h2 id="creating-a-new-weathermap">Creating a New Weathermap</h2>
<ol>
<li>In Grafana, create a new <code>Empty Panel</code>.</li>
<li>Change the visualisation in the top right corner to <code>Network Weathermap</code>.</li>
<li>You now have a brand new network weathermap panel! 🎉</li>
<li>Learn about weathermap basics below!</li>
</ol>
<hr />
<h2 id="on-startup">On Startup</h2>
<p>By default, the panel will start completely blank, looking something like this:</p>
<p><img alt="Blank Panel" src="img/basics/1-on-startup.png" /></p>
<h3 id="adding-nodes">Adding Nodes</h3>
<ul>
<li>Make sure you have selected <code>Edit</code> on the panel in Grafana.</li>
<li>
<p>On the right hand side, find the <code>Nodes</code> editor.</p>
<p><img alt="Nodes 0" src="img/basics/2-nodes-0.png" /></p>
</li>
<li>
<p>Click <code>Add Node</code> to create a new node.</p>
</li>
<li>Nodes have three basic fields:<ul>
<li>X position (<code>number</code>): Node's X position.</li>
<li>Y position (<code>number</code>): Node's Y position.</li>
<li>Label (<code>string</code>): The text visible on the node.</li>
</ul>
</li>
<li>You can then move the node by dragging it with your mouse.</li>
</ul>
<h3 id="adding-links">Adding Links</h3>
<ul>
<li>Ensure you have at least two nodes.</li>
<li>
<p>On the right hand side, find the <code>Links</code> editor.</p>
<p><img alt="Nodes 1" src="img/basics/2-nodes-1.png" /></p>
</li>
<li>
<p>Click <code>Add Link</code> to create a new link.</p>
</li>
<li>Links are split into two sides, <code>A</code> and <code>B</code>.</li>
<li>Each side has four central fields:<ul>
<li>Side (<code>Node</code>): The node this side of the link connects to.</li>
<li>Query (<code>Query</code>): A query representing the current side's throughput in the specified units.</li>
<li>Bandwidth # (<code>number</code>): A number representing the bandwidth of this side in specified units.</li>
<li>Bandwidth Query (<code>Query</code>): A query representing the bandwidth of this side in the specified units.</li>
<li>Units (<code>unit</code>): The units the link expects to recieve its data as. This is used for both the main query and bandwidth. Defaults to <code>bits/sec (SI)</code> (<code>bps</code>).</li>
</ul>
</li>
<li>Select <code>A</code> and <code>B</code> side nodes from their respective dropdowns.</li>
</ul>
<h3 id="adding-data">Adding Data</h3>
<ul>
<li>The weathermap expects a data frame with two fields, a time and a number.</li>
<li>You probably want this number in <code>bits/sec</code>, unless your links are expecting something else (each link has customizable units, and default units are customizable in the global settings for the panel).</li>
<li>The weathermap will always choose the most recent data point available. If you want your links graphs to have data, make sure your queries are ranges and not "Instant" queries, as this will mean there is no data to show on each graph.</li>
<li>Once you have added a query in the panel editor, you can can see all queries and select one from the dropdown in the Query fields of the links.</li>
<li>See the <a href="/faq">FAQ</a> or <a href="https://github.com/knightss27/grafana-network-weathermap/issues">Github issues</a> if you are having issues adding data (especially Zabbix datasource users).</li>
</ul>
<p><strong>PLEASE NOTE:</strong> <em>Queries with the exact same labels will be considered as such. If you have multiple queries and are unable to select the one that you want, double check to make sure it is labeled uniquely.</em></p>
<h3 id="setting-thresholds">Setting Thresholds</h3>
<ul>
<li>The weathermap color scale allows you to color links based on their bandwidth usage.</li>
<li>On the right hand side, find the <code>Color Scale</code> editor.
  <img alt="Nodes 2" src="img/basics/2-nodes-2.png" /></li>
<li>Click <code>Add Scale Value</code> to create a new threshold.</li>
<li>Each threshold has two basic fields:<ul>
<li>% (<code>number</code>): The percent of bandwidth usage at which to <em>start</em> this threshold.</li>
<li>Color (<code>picker</code>): The color of this threshold, can be any valid CSS <code>color</code> chosen or input with the picker.<ul>
<li><code>green</code> | <code>#00FF00</code> | <code>rgb(0, 255, 0)</code></li>
</ul>
</li>
</ul>
</li>
<li>By default, the scale will fill from the highest threshold to 100%. You can see the scale in the top left of the panel. When updating numerical values, click off of the input when you're finished to allow the scale to update.</li>
</ul>
<h3 id="interacting-with-the-weathermap">Interacting with the Weathermap</h3>
<ul>
<li>In editing mode:<ul>
<li><code>Click + Drag</code> nodes to move them.</li>
<li><code>Shift + Drag</code> or hold and drag <code>Middle Mouse</code> to move the map.</li>
<li><code>Scroll</code> to zoom.</li>
<li><code>Ctrl + Click</code> to select/deselect multiple nodes before dragging.</li>
<li><code>Double Click</code> to deselect all nodes.</li>
</ul>
</li>
<li>Outside of editing mode (including read-only users):<ul>
<li><code>Shift + Scroll</code> to zoom.</li>
<li><code>Shift + Drag</code> to move the map.</li>
</ul>
</li>
<li>Hover over links to see tooltip information.<ul>
<li>Hold <code>Shift</code> while hovering to free up the mouse.</li>
<li>Hover over the same link or another to unfreeze the tooltip.</li>
</ul>
</li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.sections"], "search": "assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>